
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>AMC Developer Portal - AffiliateDeepLinking</title>
    <link href="../Content/images/favicon.ico.html" rel="shortcut icon" type="image/x-icon" />

    <link href="../Content/Site.css" rel="stylesheet" />
    <link href="../Content/fontawesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../Content/highlight/styles/default.css" rel="stylesheet" />
    <link href="../Content/Redesign.css" rel="stylesheet" />

    <link href="../Content/themes/amc/bootstrap.css" rel="stylesheet" />
    <link href="../Content/themes/amc/bootstrap-docs.min.css" rel="stylesheet" />
    <link href="../Content/themes/amc/common.css" rel="stylesheet" />
    <link href="../Content/themes/amc/site.css" rel="stylesheet" />
    <link href="../Content/highlight/styles/default.css" rel="stylesheet" />


</head>
<body>
    <header class="Header-wrap is-opaque">
        <ul class="Header u-listUnstyled u-container u-flexwrap" role="menu">
            <li class="NavGroup HeaderBranding">
                <ul class="u-listUnstyled">
                    <li class="NavGroupItem">
                        <a class="Link SiteLogo" aria-disabled="" href="../index.html">
                            <i class="logo" alt="A M C Home">
                                <!--?xml version="1.0" encoding="iso-8859-1"?-->
                                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 73.7 73.7" enable-background="new 0 0 73.7 73.7" xml:space="preserve">
                                <g>
                                <g>
                                <path fill-rule="evenodd" clip-rule="evenodd" fill="#E51937" d="M73.7,36.9c0,20.4-16.5,36.8-37,36.8C16.5,73.7,0,57.2,0,36.9   C0,16.5,16.5,0,36.8,0C57.2,0,73.7,16.5,73.7,36.9z M37.8,29.5c-2.3-1.8-3.5-2.2-5.8-2.2c-4.1,0.1-6.7,2.6-6.7,6.7   c0,2.1,0,4.2,0,6.3c0,1.5,0.8,2.4,2,2.4c1.2,0,1.9-0.9,1.9-2.3c0-2,0-4.1,0-6.1c0-2.1,1.2-3.2,3.3-3.1c1.9,0,3.1,1.2,3.2,3.2   c0,2.1,0,4.2,0,6.3c0,1.6,1.4,2.5,2.8,1.9c0.9-0.4,1.2-1.2,1.2-2.1c0-1.9,0-3.9,0-5.8c0-2.1,1.3-3.5,3.3-3.4c2,0,3.1,1.3,3.2,3.5   c0,1.9,0,3.9,0,5.8c0,1.4,0.8,2.3,2,2.3c1.2,0,1.9-0.8,1.9-2.2c0-2.2,0-4.3,0-6.5c0-3.3-1.7-5.4-4.8-6.3c-2.1-0.6-4.1-0.4-5.9,0.7   C38.9,28.8,38.4,29.2,37.8,29.5z M24.5,35.2C24.5,35.2,24.5,35.2,24.5,35.2c0-1.9,0-3.8,0-5.7c0-1.3-0.7-2.1-1.9-2.2   c-6.8-0.6-13.3,2.9-16.4,9.1c-0.7,1.4-1,3-1.3,4.6c-0.2,1,0.4,1.8,1.3,1.8c3.7,0,7.5,0.1,11.2,0c1.1,0,1.8-0.8,1.8-2   c0-1.2-0.8-2-2.2-2c-2.1,0-4.2,0-6.3,0c-0.7,0-0.8-0.3-0.6-0.8c1.7-4.1,5.5-6.5,9.5-6.9c0.7-0.1,1,0.2,1,0.9c0,2.7,0,5.3,0,8   c0,0.3,0,0.6,0.1,0.9c0.2,1.2,1.1,1.8,2.2,1.8c1.1-0.1,1.7-0.8,1.7-2.1C24.5,38.9,24.5,37.1,24.5,35.2z M59.2,43.5   c3.5,0,6.5-1.9,7.6-4.8c0.4-1.1,0.1-2-0.9-2.4c-1-0.4-2,0-2.5,0.9c-1,2-2.6,2.8-4.8,2.6c-2.2-0.3-3.9-2.1-4-4.3   c-0.1-2.2,1.3-4.2,3.4-4.7c2.5-0.6,4.6,0.3,5.5,2.4c0.3,0.7,0.8,1.1,1.5,1.1c1.5,0.2,2.5-1.1,1.9-2.6c-1.2-3.1-3.6-4.5-6.8-4.8   c-4.8-0.5-9,3.1-9.2,8C50.7,39.6,54.6,43.5,59.2,43.5z"></path>
                                            </g>
                                <path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M37.8,29.5c-2.3-1.8-3.5-2.2-5.8-2.2c-4.1,0.1-6.7,2.6-6.7,6.7  c0,2.1,0,4.2,0,6.3c0,1.5,0.8,2.4,2,2.4c1.2,0,1.9-0.9,1.9-2.3c0-2,0-4.1,0-6.1c0-2.1,1.2-3.2,3.3-3.1c1.9,0,3.1,1.2,3.2,3.2  c0,2.1,0,4.2,0,6.3c0,1.6,1.4,2.5,2.8,1.9c0.9-0.4,1.2-1.2,1.2-2.1c0-1.9,0-3.9,0-5.8c0-2.1,1.3-3.5,3.3-3.4c2,0,3.1,1.3,3.2,3.5  c0,1.9,0,3.9,0,5.8c0,1.4,0.8,2.3,2,2.3c1.2,0,1.9-0.8,1.9-2.2c0-2.2,0-4.3,0-6.5c0-3.3-1.7-5.4-4.8-6.3c-2.1-0.6-4.1-0.4-5.9,0.7  C38.9,28.8,38.4,29.2,37.8,29.5z"></path> <path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M24.5,35.2C24.5,35.2,24.5,35.2,24.5,35.2c0-1.9,0-3.8,0-5.7  c0-1.3-0.7-2.1-1.9-2.2c-6.8-0.6-13.3,2.9-16.4,9.1c-0.7,1.4-1,3-1.3,4.6c-0.2,1,0.4,1.8,1.3,1.8c3.7,0,7.5,0.1,11.2,0  c1.1,0,1.8-0.8,1.8-2c0-1.2-0.8-2-2.2-2c-2.1,0-4.2,0-6.3,0c-0.7,0-0.8-0.3-0.6-0.8c1.7-4.1,5.5-6.5,9.5-6.9c0.7-0.1,1,0.2,1,0.9  c0,2.7,0,5.3,0,8c0,0.3,0,0.6,0.1,0.9c0.2,1.2,1.1,1.8,2.2,1.8c1.1-0.1,1.7-0.8,1.7-2.1C24.5,38.9,24.5,37.1,24.5,35.2z"></path> <path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M59.2,43.5c3.5,0,6.5-1.9,7.6-4.8c0.4-1.1,0.1-2-0.9-2.4  c-1-0.4-2,0-2.5,0.9c-1,2-2.6,2.8-4.8,2.6c-2.2-0.3-3.9-2.1-4-4.3c-0.1-2.2,1.3-4.2,3.4-4.7c2.5-0.6,4.6,0.3,5.5,2.4  c0.3,0.7,0.8,1.1,1.5,1.1c1.5,0.2,2.5-1.1,1.9-2.6c-1.2-3.1-3.6-4.5-6.8-4.8c-4.8-0.5-9,3.1-9.2,8C50.7,39.6,54.6,43.5,59.2,43.5z"></path>
                                        </g>
                                <rect x="-13.3" y="8.5" display="none" fill="none" width="97" height="56"></rect>
                                    </svg>
                            </i>
                        </a>
                    </li>
                    <li class="NavGroupItem">
                        <a class="SiteTitle Link" href="../index.html">Developer Portal</a>
                    </li>
                </ul>
            </li>
        </ul>
    </header>

    <div class="container">
        <div class="row">
            <div class="col-md-9">
<h2>Affiliate Deep Linking</h2>

<p>In this guide we will run through a basic process for finding a performance at AMC Town Center 20 and generating a performance deep link that will credit us for ticket sales.  See <a href="../Showtimes.html">Showtimes</a> for more information on finding performances.</p>

<h4 id="step-1">Finding a Performance</h4>
<p>To get started with purchasing tickets we will need to begin by selecting a theatre and a performance we would like tickets for. We will start by using AMC Town Center 20, and pulling the showtimes for today. We'll construct the URL using Town Center 20's theatre number 38 and today's date. To keep things simple we will set the page size to one and just use first result.</p>
<div class="panel-group" id="accordion">
    <div class="panel panel-default" id="">
        <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" href="#findingAPerformance">
            <pre><b>GET</b>&nbsp; /v2/theatres/38/showtimes/12-15-2014?page-size=1</pre>
            <i class="fa fa-code"></i>
        </div>
        <div id="findingAPerformance" class="panel-collapse collapse">
            <div class="panel-body">
                <div class="panel-body">
                    <h4>Response</h4>
                    <pre class="prettyprint lang-javascript">
{
    "pageSize": 1,
    "pageNumber": 1,
    "count": 35,
    "_links": {
        "self": {
            "href": "https://api.amctheatres.com/v2/theatres/38/showtimes/12-15-2014?page-number=1&page-size=1",
            "templated": false
        },
        "next": {
            "href": "https://api.amctheatres.com/v2/theatres/38/showtimes/12-15-2014?page-number=2&page-size=1",
            "templated": false
        }
    },
    "_embedded": {
        "showtimes": [
            {
                "id": 29840403,
                "internalReleaseNumber": 37383,
                "performanceNumber": 3566,
                "movieId": 40722,
                "movieName": "One Direction Concert Movie",
                "sortableMovieName": "One Direction: This Is Us",
                "showDateTimeUtc": "2014-12-15T16:15:00Z",
                "showDateTimeLocal": "2014-12-15T10:15:00",
                "sellUntilDateTimeUtc": "2014-12-15T16:25:00Z",
                "isSoldOut": false,
                "isCanceled": false,
                "utcOffset": "-06:00",
                "auditorium": 9,
                "runTime": 88,
                "mpaaRating": "PG",
                "purchaseUrl": "https://www.amctheatres.com/order/towncenter/12-15-2014/3566",
                "mobilePurchaseUrl": "https://www.amctheatres.com/order/towncenter/12-15-2014/3566",
                "movieUrl": "https://www.amctheatres.com/movies/one-direction-concert-movie",
                "attributes": [
                    {
                        "code": "specialengagements",
                        "name": "Special Engagements",
                        "description": "Special Engagements"
                    }
                ],
                "ticketPrices": [
                    {
                        "price": 6,
                        "type": "ADULT",
                        "sku": "TICKET-GA-29840403-ADULT"
                    },
                    {
                        "price": 6,
                        "type": "CHILD",
                        "sku": "TICKET-GA-29840403-CHILD"
                    },
                    {
                        "price": 6,
                        "type": "SENIOR",
                        "sku": "TICKET-GA-29840403-SENIOR"
                    }
                ],
                "media": {
                    
                },
                "_links": {
                    "self": {
                        "href": "https://api.amctheatres.com/v2/showtimes/29840403",
                        "templated": false
                    },
                    "https://api.amctheatres.com/rels/v2/movie": {
                        "href": "https://api.amctheatres.com/v2/movies/40722",
                        "templated": false
                    },
                    "https://api.amctheatres.com/rels/v2/theatre": {
                        "href": "https://api.amctheatres.com/v2/theatres/38",
                        "templated": false
                    }
                }
            }
        ]
    }
}
</pre>
                </div>
            </div>
        </div>
    </div>
</div>

<p>Using the results for showtimes we can select the showtime we want, and inside we find the purchaseUrl link.</p>
<pre>"purchaseUrl": "https://www.amctheatres.com/order/towncenter/12-15-2014/3566"</pre>
<hr />

<h4 id="step-1">Appending your GET parameters</h4>
<p>Simply linking users to the above URL will not give us credit for the ticket sales, to get credit for the sale we need to include an AffiliateCode. We can also provide a return URL and button text, and when the purchase is complete a button will be presented to the user to guide them back to our site. We'll use 'MyAffiliateCode', 'Back to My Site', and 'http://www.mysite.com' as our values.</p>

<pre>"purchaseUrl": "https://www.amctheatres.com/order/towncenter/12-15-2014/3566<strong>?affiliateCode=MyAffiliateCode&returnDisplay=Back to My Site&returnUrl=http://www.mysite.com</strong>"</pre>

<p>Now we will be credited for the sale, and when the user completes the transaction they will see a back button to return to the URL we provided.</p></div>
            <div class="col-md-3">
                <div class="sidebar-module">
                    <h4>Getting Started</h4>
                    <ol class="list-unstyled">
                        <li><a href="Authentication.html">Authentication</a></li>
                        <li><a href="AffiliateDeepLinking.html">Affiliate Deep Linking</a></li>
                        <li><a href="Sandbox.html">Sandbox</a></li>
                    </ol>
                        <h5>Ordering Tickets</h5>
                        <ol class="list-unstyled">
                            <li><a href="PurchasingGATickets.html">General Admission Tickets</a></li>
                            <li><a href="PurchasingRsTickets.html">Reserved Seating Tickets</a></li>
                            <li><a href="PurchasingGenericPrivateTheatreRentals.html">Generic Private Theatre Rentals</a></li>
                            <li><a href="PurchasingTitleSpecificPrivateTheatreRentals.html">Movie Specific Private Theatre Rentals</a></li>
                        </ol>
                        <h5>Ordering Concessions</h5>
                        <ol class="list-unstyled">
                            <li><a href="PurchasingExpressPickupConcessions.html">Express Pickup Concessions</a></li>
                            <li><a href="PurchasingDeliveryToSeatConcessions.html">Delivery To Seat Concessions</a></li>
                        </ol>
                        <h5>Order Payment</h5>
                        <ol class="list-unstyled">
                            <li><a href="PayingWithACreditCard.html">Credit Card Payment</a></li>
                        </ol>
                        <h5>Order Fulfillment</h5>
                        <ol class="list-unstyled">
                            <li><a href="SubmittingOrderForFulfillment.html">Order Fulfillment</a></li>
                        </ol>
                        <h5>Refunding Orders</h5>
                        <ol class="list-unstyled">
                            <li><a href="Refunds.html">Refunds</a></li>
                        </ol>
                    <br>
                    <h4>API Reference</h4>
                    <ol class="list-unstyled">
                        <li><a href="../Errors.html">Errors</a></li>
                    </ol>
                    <hr />
                    <ol class="list-unstyled">
                                <li>
                                    <a href="../Attributes.html">Attributes</a>
                                </li>
                                <li>
                                    <a href="../Barcodes.html">Barcodes</a>
                                </li>
                                <li>
                                    <a href="../Concessions.html">Concessions</a>
                                </li>
                                <li>
                                    <a href="../ConcessionsCategories.html">Concessions Categories</a>
                                </li>
                                <li>
                                    <a href="../ConcessionsDeliveryLocations.html">Concessions Delivery Locations</a>
                                </li>
                                <li>
                                    <a href="../ConcessionsDeliveryTimes.html">Concessions Delivery Times</a>
                                </li>
                                <li>
                                    <a href="../ConcessionsPickupTimes.html">Concessions Pickup Times</a>
                                </li>
                                <li>
                                    <a href="../EmbargoedShowtimes.html">Embargoed Showtimes</a>
                                </li>
                                <li>
                                    <a href="../FeeWaiver.html">Fee Waiver</a>
                                </li>
                                <li>
                                    <a href="../LocationSuggestions.html">Location Suggestions</a>
                                </li>
                                <li>
                                    <a href="../Locations.html">Locations</a>
                                </li>
                                <li>
                                    <a href="../LoyaltyAccounts.html">Loyalty Accounts</a>
                                </li>
                                <li>
                                    <a href="../LoyaltyCards.html">Loyalty Cards</a>
                                </li>
                                <li>
                                    <a href="../Markets.html">Markets</a>
                                </li>
                                <li>
                                    <a href="../Media.html">Media</a>
                                </li>
                                <li>
                                    <a href="../MovieConfirmations.html">Movie Confirmations</a>
                                </li>
                                <li>
                                    <a href="../Movies.html">Movies</a>
                                </li>
                                <li>
                                    <a href="../Orders.html">Orders</a>
                                </li>
                                <li>
                                    <a href="../Person.html">Person</a>
                                </li>
                                <li>
                                    <a href="../Redemptions.html">Redemptions</a>
                                </li>
                                <li>
                                    <a href="../RefundReasons.html">Refund Reasons</a>
                                </li>
                                <li>
                                    <a href="../Refunds.html">Refunds</a>
                                </li>
                                <li>
                                    <a href="../SeatingLayouts.html">Seating Layouts</a>
                                </li>
                                <li>
                                    <a href="../Showtimes.html">Showtimes</a>
                                </li>
                                <li>
                                    <a href="../States.html">States</a>
                                </li>
                                <li>
                                    <a href="../TheatreSeatingLayouts.html">Theatre Seating Layouts</a>
                                </li>
                                <li>
                                    <a href="../Theatres.html">Theatres</a>
                                </li>
                                <li>
                                    <a href="../Wallet.html">Wallet</a>
                                </li>
                                <li>
                                    <a href="../Webhook.html">Webhook</a>
                                </li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script src="../Scripts/jquery-3.6.0.min.js"></script>
    <script src="../Scripts/modernizr-2.6.2.js"></script>

    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" type="text/css" href="../Content/prettyprint-sunburst.css" />

    <script src="../Content/themes/amc/scripts/bootstrap/bootstrap.js"></script>
    <script src="../Content/themes/amc/scripts/site.js"></script>

    
    <script type="text/javascript">
        $(document).ready(function () {
            $('a[href^="#"]').on('click', function (e) {
                e.preventDefault();

                var target = this.hash,
                    $target = $(target);

                $('html, body').stop().animate({
                    'scrollTop': $target.offset().top - 100
                }, 1200, 'swing', function () {
                    window.location.hash = target;
                });

                $target.children(".panel-heading")
                    .animate({ "background-color": "#ce2640" })
                    .delay(2000)
                    .animate({ "background-color": "#f5f5f5" });
            });
        });
    </script>
</body>
</html><script id="f5_cspm">(function(){var f5_cspm={f5_p:'MKMENNIALFAHBKIEJKEDOEHAGLJFMOMNPPCJJFPJHEHLMAJILJCDELAMKBPGIIICPFOBCGJPAAFMPEABDNPACNPMAAIHDCFPDHAABDKPOMJKNCJBKEMDKIPEENMNFFBI',setCharAt:function(str,index,chr){if(index>str.length-1)return str;return str.substr(0,index)+chr+str.substr(index+1);},get_byte:function(str,i){var s=(i/16)|0;i=(i&15);s=s*32;return((str.charCodeAt(i+16+s)-65)<<4)|(str.charCodeAt(i+s)-65);},set_byte:function(str,i,b){var s=(i/16)|0;i=(i&15);s=s*32;str=f5_cspm.setCharAt(str,(i+16+s),String.fromCharCode((b>>4)+65));str=f5_cspm.setCharAt(str,(i+s),String.fromCharCode((b&15)+65));return str;},set_latency:function(str,latency){latency=latency&0xffff;str=f5_cspm.set_byte(str,40,(latency>>8));str=f5_cspm.set_byte(str,41,(latency&0xff));str=f5_cspm.set_byte(str,35,2);return str;},wait_perf_data:function(){try{var wp=window.performance.timing;if(wp.loadEventEnd>0){var res=wp.loadEventEnd-wp.navigationStart;if(res<60001){var cookie_val=f5_cspm.set_latency(f5_cspm.f5_p,res);window.document.cookie='f5avr2061084227aaaaaaaaaaaaaaaa_cspm_='+encodeURIComponent(cookie_val)+';path=/;'+'';}
return;}}
catch(err){return;}
setTimeout(f5_cspm.wait_perf_data,100);return;},go:function(){var chunk=window.document.cookie.split(/\s*;\s*/);for(var i=0;i<chunk.length;++i){var pair=chunk[i].split(/\s*=\s*/);if(pair[0]=='f5_cspm'&&pair[1]=='1234')
{var d=new Date();d.setTime(d.getTime()-1000);window.document.cookie='f5_cspm=;expires='+d.toUTCString()+';path=/;'+';';setTimeout(f5_cspm.wait_perf_data,100);}}}}
f5_cspm.go();}());</script>